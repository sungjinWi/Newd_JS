노드 js는 싱글스레드 지만 사실 스레드 2개, 우리가 조작 가능한것이 싱글

메인 스레드와 백그라운드(setTimeout, setInterval이 들어갈 수 있다)

메인스레드는 heap과 콜스택으로

태스크큐라는 공간이 하나 더 있다

콜스택이 비어있으면 태스크큐의 것들을 콜스택으로 넣어서 실행시킴

함수, 변수를 선언하면 heap에 들어간다

settimeout도 함수라서 콜스택에 일단 들어간다

js 엔진이 백그라운드에서 돌려야하는 함수라고 판단해서 백그라운드로 던진다

function callback() {
    console.log("world")
}

setTimeout(callback,1000)

백그라운드에 있다가 1초가 지나면 callback이 태스크큐에 들어간다

콜스택이 비어있으면 태스크큐에 있는것들을 콜스택으로 넣는다